import { PaxPrinterUtilityPlugin } from '@ticketplushq/capacitor-pos-pax-printer-utility';
import '../css/style.css';

/* const logo =
   'data:image/jpeg;base64,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';
*/
const form = document.querySelector('#form');

form.addEventListener('submit', event => {
  event.preventDefault();
  handleSubmit();
});

async function handleSubmit() {
  const text = document.getElementById('textElement').value;
  const qrString = document.getElementById('qrCodeElement').value;
  //const imageBase64 = document.getElementById('imageBase64').value;
  const asciiFontType = document.getElementById('asciiFontType').value;
  const cFontType = document.getElementById('cFontType').value;
  const cutModeString = document.getElementById('cutMode').value;
  const cutMode = Number.parseInt(cutModeString);

  let payload = {
    text,
    asciiFontType,
    cFontType,
  };

  if (qrString?.length > 0) {
    payload.qrString = qrString;
  }

  try {
    const receipt = await PaxPrinterUtilityPlugin.printReceiptWithQr(payload);
    const cutPaper = await PaxPrinterUtilityPlugin.cutPaper({ mode: cutMode });
    // const imageResp = await PaxPrinterUtilityPlugin.printBase64Image({
    //   image: imageBase64 || logo,
    // });
    console.log({ receipt, cutPaper });
  } catch (error) {
    console.error(error);
  }
}
